<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css">

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <script src="./index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

</head>
<body>
    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand">Navbar</a>
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
    </nav>
    <main>
        <section class="vh-100" >
            <div class="container h-100">
                <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                        <div class="card" style="border-radius: 10px;
                        background: #F3F0F0;">
                            <div class="card-servic card-body ">
                                <div class="row color-service my-3 py-3">
                                    <div class="col-6">
                                        <h3 class="card-text ">Batas akhir struk pemesanan</h3>
                                        <div class="today" id="todayDate">
                                        </div>
                                    </div>
                                    <div class="col-6 ">
                                        <div class="countdown text-end" id="countdownTimer">
                                            
                                        </div>
                                    </div>
                                </div> 
                                <div class="row color-service my-3 py-3">
                                    <div class="col-10">
                                        <h4 class="card-text ">Mandiri Virtual Account</h4>
                                    </div>
                                    <div class="col-2">
                                        <img src="../img/mandiri.png" alt="mandiri">

                                    </div>
                                    <h3 class="card-text">Nomor virtual account</h3>
                                    <div class="col-9">
                                        <h4 class="no-rek card-text" id="accountNumber">1234566789101112</h4>
                                        
                                    </div>
                                    <div class="col-3 text-end">
                                        <p class="copy-icon card-text" id="copyButton" onclick="copyAccountNumber()"><i class="bi bi-copy"></i>Salin</p>

                                    </div>
                                </div>
                                <div class="row color-service my-3 py-2">
                                    
                                    <div class="col-12">
                                        <h3 class="card-text">Pesanan</h3>
                                        <p class="card-text">Bibit Maggot <span>2</span>ons</p>
                                    </div>
                                </div>
                                    
                                <div class="row color-service my-3 py-2">
                                    <h3 class="card-text">Total pembelian</h3>
                                    
                                    <div class="col-3">
                                        <p id="paymentMoney card-text">Rp <span>100.000</span></p>
                                    </div>
                                    <div class="col-9">
                                        <p class="copy-icon" id="copyButton" onclick="copyPaymentMoney()"><i class="bi bi-copy"></i>Salin</p>

                                    </div>
                                </div>
                                <div class="btn-service-payment">
                                    <a href="buymaggot.html" class="btn fw-bold">Selesai</a>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>
        var currentDate = new Date();
        var daysOfWeek = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
        var dayOfWeek = daysOfWeek[currentDate.getDay()];
        var formattedDate = currentDate.toISOString().split('T')[0];
        var todayInfo = dayOfWeek + ', ' + formattedDate;
        document.getElementById('todayDate').textContent = todayInfo;

        var targetDate = new Date();
        targetDate.setMinutes(targetDate.getMinutes() + 5);

        function updateCountdown() {
            var currentDate = new Date();
            var timeDifference = targetDate - currentDate;
            var minutes = Math.floor(timeDifference / 60000);
            var seconds = Math.floor((timeDifference % 60000) / 1000);
            document.getElementById('countdownTimer').textContent = minutes + ' menit ' + seconds + ' detik';
            if (timeDifference <= 0) {
                document.getElementById('countdownTimer').textContent = 'Waktu Habis';
                window.location.href = 'buymaggot.html';
                clearInterval(countdownInterval);
            }
        }
        updateCountdown();
        var countdownInterval = setInterval(updateCountdown, 1000);
        
        function copyAccountNumber() {
            var accountNumber = document.getElementById('accountNumber').innerText;
            var tempInput = document.createElement('input');
            tempInput.value = accountNumber;
            document.body.appendChild(tempInput);
            tempInput.select();
            tempInput.setSelectionRange(0, 99999); /* For mobile devices */
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            alert('Nomor rekening disalin: ' + accountNumber);
        }
        function copyPaymentMoney() {
            var paymentMoney = document.getElementById('paymentMoney').innerText;
            var tempInput = document.createElement('input');
            tempInput.value = paymentMoney;
            document.body.appendChild(tempInput);
            tempInput.select();
            tempInput.setSelectionRange(0, 99999); /* mobile devices */
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            alert('Uang disalin: ' + paymentMoney);
        }
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>